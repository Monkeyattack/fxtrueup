{
  "accounts": {
    "1becc873-1ac2-4dbd-b98d-0d81f1e13a4b": {
      "nickname": "PropFirmKid",
      "region": "london",
      "type": "source",
      "platform": "mt5",
      "balance": 100000,
      "broker": "PlexyTrade"
    },
    "58b81c8e-18fa-4a1d-b7d0-b7f7aa7cf9ac": {
      "nickname": "GoldBuyOnly",
      "region": "london",
      "type": "source",
      "platform": "mt5",
      "balance": 5000,
      "broker": "ICMarkets"
    },
    "019ec0f0-09f5-4230-a7bd-fa2930af07a4": {
      "nickname": "GridDemo",
      "region": "new-york",
      "type": "destination",
      "platform": "mt5",
      "balance": 118000,
      "broker": "ICMarkets"
    },
    "166bea1c-306e-4a6a-8720-823a0134474f": {
      "nickname": "PropFirm50k",
      "region": "new-york",
      "type": "destination",
      "platform": "mt5",
      "balance": 50000,
      "broker": "FTMO"
    },
    "d25b9ece-3422-43e8-a59b-cf85246beb3b": {
      "nickname": "GoldEADemo",
      "region": "new-york",
      "type": "destination",
      "platform": "mt5",
      "balance": 10000,
      "broker": "ICMarkets"
    }
  },

  "ruleSets": {
    "proportional_118x": {
      "name": "1.18x Multiplier",
      "description": "Proportional sizing for $100k â†’ $118k accounts",
      "type": "proportional",
      "multiplier": 1.18,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 5,
      "maxDailyLoss": 3540,
      "minTimeBetweenTrades": 1800000,
      "filters": ["no_martingale", "trading_hours", "max_positions_1"],
      "stopLossAdjustment": 0,
      "takeProfitAdjustment": 0
    },

    "fixed_250x": {
      "name": "250x Fixed (Micro to Standard)",
      "description": "Convert 0.01 micro lots to 2.50 standard lots",
      "type": "fixed",
      "fixedLotSize": 2.50,
      "sourceMinLot": 0.01,
      "sourceMaxLot": 0.01,
      "maxDailyTrades": 10,
      "maxDailyLoss": 4000,
      "minTimeBetweenTrades": 1800000,
      "filters": ["single_direction", "max_positions_5"]
    },

    "conservative_05x": {
      "name": "Conservative Half Size",
      "description": "Risk reduction strategy - 50% of source size",
      "type": "proportional",
      "multiplier": 0.5,
      "roundingMode": "round_down",
      "maxDailyTrades": 3,
      "maxDailyLoss": 1000,
      "maxOpenPositions": 1,
      "filters": ["high_win_rate", "no_weekend", "volatility_filter"]
    },

    "aggressive_dynamic": {
      "name": "Aggressive Dynamic",
      "description": "High risk/reward - dynamic",
      "type": "proportional",
      "multiplier": 11.0,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 20,
      "maxDailyLoss": 4000,
      "maxOpenPositions": 5,
      "filters": []
    },

    "dynamic_risk": {
      "name": "Dynamic Risk Adjusted",
      "description": "Adjusts size based on account performance",
      "type": "dynamic",
      "baseMultiplier": 1.0,
      "performanceAdjustment": {
        "winning": { "increment": 0.1, "max": 1.5 },
        "losing": { "decrement": 0.2, "min": 0.5 }
      },
      "filters": ["risk_adjusted", "correlation_check"]
    }
  },

  "filters": {
    "no_martingale": {
      "name": "No Martingale",
      "description": "Reject positions larger than 170% of base size",
      "type": "volume_check",
      "maxVolumeMultiplier": 1.7
    },
    "trading_hours": {
      "name": "Trading Hours Only",
      "description": "Trade only during liquid market hours",
      "type": "time_filter",
      "allowedHoursUTC": [8, 9, 10, 11, 12, 13, 14, 15, 16, 17],
      "allowedDays": [1, 2, 3, 4, 5]
    },
    "max_positions_1": {
      "name": "Single Position",
      "description": "Maximum 1 open position at a time",
      "type": "position_limit",
      "maxPositions": 1
    },
    "max_positions_5": {
      "name": "Max 5 Positions",
      "description": "Maximum 5 concurrent positions",
      "type": "position_limit",
      "maxPositions": 5
    },
    "single_direction": {
      "name": "Single Direction",
      "description": "All positions must be same direction",
      "type": "direction_filter",
      "allowHedging": false
    },
    "high_win_rate": {
      "name": "High Win Rate Only",
      "description": "Only copy from accounts with >60% win rate",
      "type": "performance_filter",
      "minWinRate": 0.6,
      "lookbackDays": 30
    },
    "no_weekend": {
      "name": "No Weekend Trading",
      "description": "Avoid low liquidity weekend markets",
      "type": "time_filter",
      "allowedDays": [1, 2, 3, 4, 5]
    },
    "volatility_filter": {
      "name": "Low Volatility Only",
      "description": "Trade only in normal market conditions",
      "type": "market_filter",
      "maxATR": 1.5,
      "checkPeriod": "1H"
    },
    "momentum_only": {
      "name": "Strong Momentum",
      "description": "Trade only with strong directional momentum",
      "type": "technical_filter",
      "requiredMomentum": "strong",
      "indicators": ["RSI", "MACD"]
    },
    "stop_after_loss_2": {
      "name": "Stop After 2 Losses",
      "description": "Pause copying after 2 consecutive losses",
      "type": "streak_filter",
      "maxConsecutiveLosses": 2,
      "cooldownMinutes": 60
    },
    "risk_adjusted": {
      "name": "Risk Adjusted Sizing",
      "description": "Adjust size based on stop loss distance",
      "type": "risk_filter",
      "maxRiskPercent": 2.0
    },
    "correlation_check": {
      "name": "Correlation Filter",
      "description": "Avoid highly correlated positions",
      "type": "correlation_filter",
      "maxCorrelation": 0.7,
      "checkExisting": true
    }
  },

  "routes": [
    {
      "id": "route_001",
      "enabled": true,
      "name": "PropFirmKid to GridDemo",
      "source": "1becc873-1ac2-4dbd-b98d-0d81f1e13a4b",
      "destination": "019ec0f0-09f5-4230-a7bd-fa2930af07a4",
      "ruleSet": "proportional_118x",
      "description": "Main prop firm copy with proportional sizing",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": false,
        "channel": "telegram"
      }
    },
    {
      "id": "route_002",
      "enabled": true,
      "name": "GoldOnly to GridDemo",
      "source": "58b81c8e-18fa-4a1d-b7d0-b7f7aa7cf9ac",
      "destination": "019ec0f0-09f5-4230-a7bd-fa2930af07a4",
      "ruleSet": "aggressive_dynamic",
      "description": "Micro lot gold strategy scaled to standard lots",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": true,
        "channel": "telegram"
      }
    },
    {
      "id": "route_003",
      "enabled": false,
      "name": "PropFirmKid Conservative",
      "source": "1becc873-1ac2-4dbd-b98d-0d81f1e13a4b",
      "destination": "166bea1c-306e-4a6a-8720-823a0134474f",
      "ruleSet": "conservative_05x",
      "description": "Conservative copy to 50k prop firm account",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": false,
        "channel": "telegram"
      }
    },
    {
      "id": "route_004",
      "enabled": false,
      "name": "GoldOnly to Multiple",
      "source": "58b81c8e-18fa-4a1d-b7d0-b7f7aa7cf9ac",
      "destination": "d25b9ece-3422-43e8-a59b-cf85246beb3b",
      "ruleSet": "dynamic_risk",
      "description": "Dynamic risk-adjusted copy to demo account",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": false,
        "channel": "telegram"
      }
    }
  ],

  "globalSettings": {
    "maxActiveRoutes": 10,
    "defaultNotificationChannel": "telegram",
    "performanceTrackingEnabled": true,
    "auditLogEnabled": true,
    "emergencyStopLoss": {
      "enabled": true,
      "dailyLossLimit": 10000,
      "action": "disable_all_routes"
    },
    "healthCheck": {
      "interval": 60000,
      "timeout": 5000,
      "retries": 3
    }
  }
}
