{
  "accounts": {
    "1becc873-1ac2-4dbd-b98d-0d81f1e13a4b": {
      "nickname": "PropFirmKid",
      "region": "london",
      "type": "source",
      "platform": "mt5",
      "balance": 100000,
      "broker": "PlexyTrade"
    },
    "58b81c8e-18fa-4a1d-b7d0-b7f7aa7cf9ac": {
      "nickname": "GoldBuyOnly",
      "region": "london",
      "type": "source",
      "platform": "mt5",
      "balance": 5000,
      "broker": "ICMarkets"
    },
    "019ec0f0-09f5-4230-a7bd-fa2930af07a4": {
      "nickname": "GridDemo",
      "region": "new-york",
      "type": "destination",
      "platform": "mt5",
      "balance": 118000,
      "broker": "ICMarkets",
      "propFirmSettings": {
        "propFirmType": "Tiger Funded",
        "challengePhase": "challenge",
        "accountSize": 118000,
        "startingBalance": 118000,
        "maxTotalDrawdown": 11800,
        "maxTotalDrawdownPercent": 10,
        "maxDailyDrawdown": 5900,
        "maxDailyDrawdownPercent": 5,
        "drawdownCalculationMethod": "initial_balance",
        "trackFloatingDrawdown": true,
        "requireStopLoss": false,
        "allowedSymbols": ["EURUSD", "GBPUSD", "USDJPY", "XAUUSD", "US30", "NAS100"],
        "prohibitedStrategies": ["high_frequency", "news_trading"],
        "eaTradingAllowed": true,
        "eaTradingDisclosed": true
      }
    },
    "166bea1c-306e-4a6a-8720-823a0134474f": {
      "nickname": "PropFirm50k",
      "region": "new-york",
      "type": "destination",
      "platform": "mt5",
      "balance": 50000,
      "broker": "FTMO",
      "propFirmSettings": {
        "propFirmType": "FTMO",
        "challengePhase": "challenge",
        "accountSize": 50000,
        "startingBalance": 50000,
        "maxTotalDrawdown": 5000,
        "maxTotalDrawdownPercent": 10,
        "maxDailyDrawdown": 2500,
        "maxDailyDrawdownPercent": 5,
        "drawdownCalculationMethod": "balance",
        "trackFloatingDrawdown": true,
        "requireStopLoss": true,
        "allowedSymbols": ["EURUSD", "GBPUSD", "USDJPY", "AUDUSD", "USDCAD", "XAUUSD", "XAGUSD", "US30", "NAS100", "SPX500"],
        "prohibitedStrategies": ["martingale", "grid", "hedging", "arbitrage"],
        "eaTradingAllowed": true,
        "eaTradingDisclosed": true
      }
    },
    "bb106d21-d303-4e06-84fd-e6a21d20cec9": {
      "nickname": "FTMO Challenge 100k 551",
      "region": "london",
      "type": "destination",
      "platform": "mt5",
      "balance": 100000,
      "broker": "FTMO",
      "login": "540289551",
      "propFirmSettings": {
        "propFirmType": "FTMO",
        "challengePhase": "1-step-challenge",
        "accountSize": 100000,
        "startingBalance": 100000,
        "maxTotalDrawdown": 10000,
        "maxTotalDrawdownPercent": 10,
        "maxDailyDrawdown": 5000,
        "maxDailyDrawdownPercent": 5,
        "profitTarget": 10000,
        "profitTargetPercent": 10,
        "minTradingDays": 0,
        "drawdownCalculationMethod": "balance",
        "trackFloatingDrawdown": true,
        "requireStopLoss": false,
        "allowedSymbols": ["EURUSD", "GBPUSD", "USDJPY", "AUDUSD", "USDCAD", "XAUUSD", "XAGUSD", "US30", "NAS100", "SPX500"],
        "prohibitedStrategies": ["martingale", "grid", "hedging", "arbitrage"],
        "eaTradingAllowed": true,
        "eaTradingDisclosed": true
      }
    },
    "d25b9ece-3422-43e8-a59b-cf85246beb3b": {
      "nickname": "GoldEADemo",
      "region": "new-york",
      "type": "destination",
      "platform": "mt5",
      "balance": 10000,
      "broker": "ICMarkets"
    },
    "ctrader-demo-12345": {
      "nickname": "CTraderDemo",
      "environment": "demo",
      "type": "destination",
      "platform": "ctrader",
      "balance": 50000,
      "broker": "ICMarkets"
    },
    "ctrader-source-67890": {
      "nickname": "CTraderSignals",
      "environment": "demo",
      "type": "source",
      "platform": "ctrader",
      "balance": 100000,
      "broker": "Pepperstone"
    },
    "ctrader-live-99999": {
      "nickname": "CTraderLive",
      "environment": "live",
      "type": "destination",
      "platform": "ctrader",
      "balance": 25000,
      "broker": "RoboForex"
    }
  },

  "ruleSets": {
    "proportional_118x": {
      "name": "1.18x Multiplier",
      "description": "Proportional sizing for $100k â†’ $118k accounts",
      "type": "proportional",
      "multiplier": 1.18,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 5,
      "maxDailyLoss": 3540,
      "minTimeBetweenTrades": 1800000,
      "filters": ["no_martingale", "trading_hours", "max_positions_1"],
      "stopLossAdjustment": 0,
      "takeProfitAdjustment": 0
    },

    "fixed_250x": {
      "name": "250x Fixed (Micro to Standard)",
      "description": "Convert 0.01 micro lots to 2.50 standard lots",
      "type": "fixed",
      "fixedLotSize": 2.50,
      "sourceMinLot": 0.01,
      "sourceMaxLot": 0.01,
      "maxDailyTrades": 10,
      "maxDailyLoss": 4000,
      "minTimeBetweenTrades": 1800000,
      "filters": ["single_direction", "max_positions_5"]
    },

    "conservative_05x": {
      "name": "Conservative Half Size",
      "description": "Risk reduction strategy - 50% of source size",
      "type": "proportional",
      "multiplier": 0.5,
      "roundingMode": "round_down",
      "maxDailyTrades": 3,
      "maxDailyLoss": 1000,
      "maxOpenPositions": 1,
      "filters": ["high_win_rate", "no_weekend", "volatility_filter"]
    },

    "aggressive_dynamic": {
      "name": "Aggressive Dynamic",
      "description": "High risk/reward - dynamic",
      "type": "proportional",
      "multiplier": 11.0,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 20,
      "maxDailyLoss": 4000,
      "maxOpenPositions": 5,
      "filters": []
    },

    "dynamic_risk": {
      "name": "Dynamic Risk Adjusted",
      "description": "Adjusts size based on account performance",
      "type": "dynamic",
      "baseMultiplier": 1.0,
      "performanceAdjustment": {
        "winning": { "increment": 0.1, "max": 1.5 },
        "losing": { "decrement": 0.2, "min": 0.5 }
      },
      "filters": ["risk_adjusted", "correlation_check"]
    },

    "ftmo_standard_100k": {
      "name": "FTMO Standard 100k",
      "description": "FTMO-compliant rule set for $100k challenge",
      "type": "proportional",
      "multiplier": 1.0,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 10,
      "maxDailyLoss": 5000,
      "maxTotalDrawdown": 10000,
      "minTimeBetweenTrades": 600000,
      "maxOpenPositions": 3,
      "trackFloatingDrawdown": true,
      "filters": [
        "no_martingale",
        "no_hedging",
        "require_stop_loss",
        "symbol_whitelist",
        "max_position_size_2pct",
        "no_weekend",
        "high_frequency_prevention",
        "source_streak_breaker"
      ],
      "stopLossAdjustment": 0,
      "takeProfitAdjustment": 0
    },

    "ftmo_standard_50k": {
      "name": "FTMO Standard 50k",
      "description": "FTMO-compliant rule set for $50k challenge",
      "type": "proportional",
      "multiplier": 1.0,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 10,
      "maxDailyLoss": 2500,
      "maxTotalDrawdown": 5000,
      "minTimeBetweenTrades": 600000,
      "maxOpenPositions": 3,
      "trackFloatingDrawdown": true,
      "filters": [
        "no_martingale",
        "no_hedging",
        "require_stop_loss",
        "symbol_whitelist",
        "max_position_size_2pct",
        "no_weekend",
        "high_frequency_prevention"
      ],
      "stopLossAdjustment": 0,
      "takeProfitAdjustment": 0
    },

    "tiger_funded_118k": {
      "name": "Tiger Funded 118k Challenge",
      "description": "Tiger Funded-compliant for $118k 2-step challenge",
      "type": "proportional",
      "multiplier": 1.0,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 15,
      "maxDailyLoss": 5900,
      "maxTotalDrawdown": 11800,
      "minTimeBetweenTrades": 300000,
      "maxOpenPositions": 5,
      "trackFloatingDrawdown": true,
      "filters": [
        "no_martingale",
        "symbol_whitelist",
        "max_position_size_2pct",
        "no_weekend",
        "high_frequency_prevention",
        "no_news_trading"
      ],
      "stopLossAdjustment": 0,
      "takeProfitAdjustment": 0
    },

    "tiger_funded_50k": {
      "name": "Tiger Funded 50k Challenge",
      "description": "Tiger Funded-compliant for $50k 2-step challenge",
      "type": "proportional",
      "multiplier": 1.0,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 15,
      "maxDailyLoss": 2500,
      "maxTotalDrawdown": 5000,
      "minTimeBetweenTrades": 300000,
      "maxOpenPositions": 5,
      "trackFloatingDrawdown": true,
      "filters": [
        "no_martingale",
        "symbol_whitelist",
        "max_position_size_2pct",
        "no_weekend",
        "high_frequency_prevention"
      ],
      "stopLossAdjustment": 0,
      "takeProfitAdjustment": 0
    },

    "alpha_capital_100k": {
      "name": "Alpha Capital 100k",
      "description": "Alpha Capital Group-compliant for $100k",
      "type": "proportional",
      "multiplier": 1.0,
      "roundingMode": "nearest_0.01",
      "maxDailyTrades": 12,
      "maxDailyLoss": 4000,
      "maxTotalDrawdown": 8000,
      "minTimeBetweenTrades": 600000,
      "maxOpenPositions": 4,
      "trackFloatingDrawdown": true,
      "filters": [
        "no_martingale",
        "no_hedging",
        "symbol_whitelist",
        "max_position_size_2pct",
        "no_weekend",
        "high_frequency_prevention",
        "source_streak_breaker"
      ],
      "stopLossAdjustment": 0,
      "takeProfitAdjustment": 0
    }
  },

  "filters": {
    "no_martingale": {
      "name": "No Martingale",
      "description": "Reject positions larger than 170% of base size",
      "type": "volume_check",
      "maxVolumeMultiplier": 1.7
    },
    "trading_hours": {
      "name": "Trading Hours Only",
      "description": "Trade only during liquid market hours",
      "type": "time_filter",
      "allowedHoursUTC": [8, 9, 10, 11, 12, 13, 14, 15, 16, 17],
      "allowedDays": [1, 2, 3, 4, 5]
    },
    "max_positions_1": {
      "name": "Single Position",
      "description": "Maximum 1 open position at a time",
      "type": "position_limit",
      "maxPositions": 1
    },
    "max_positions_5": {
      "name": "Max 5 Positions",
      "description": "Maximum 5 concurrent positions",
      "type": "position_limit",
      "maxPositions": 5
    },
    "single_direction": {
      "name": "Single Direction",
      "description": "All positions must be same direction",
      "type": "direction_filter",
      "allowHedging": false
    },
    "high_win_rate": {
      "name": "High Win Rate Only",
      "description": "Only copy from accounts with >60% win rate",
      "type": "performance_filter",
      "minWinRate": 0.6,
      "lookbackDays": 30
    },
    "no_weekend": {
      "name": "No Weekend Trading",
      "description": "Avoid low liquidity weekend markets",
      "type": "time_filter",
      "allowedDays": [1, 2, 3, 4, 5]
    },
    "volatility_filter": {
      "name": "Low Volatility Only",
      "description": "Trade only in normal market conditions",
      "type": "market_filter",
      "maxATR": 1.5,
      "checkPeriod": "1H"
    },
    "momentum_only": {
      "name": "Strong Momentum",
      "description": "Trade only with strong directional momentum",
      "type": "technical_filter",
      "requiredMomentum": "strong",
      "indicators": ["RSI", "MACD"]
    },
    "stop_after_loss_2": {
      "name": "Stop After 2 Losses",
      "description": "Pause copying after 2 consecutive losses",
      "type": "streak_filter",
      "maxConsecutiveLosses": 2,
      "cooldownMinutes": 60
    },
    "risk_adjusted": {
      "name": "Risk Adjusted Sizing",
      "description": "Adjust size based on stop loss distance",
      "type": "risk_filter",
      "maxRiskPercent": 2.0
    },
    "correlation_check": {
      "name": "Correlation Filter",
      "description": "Avoid highly correlated positions",
      "type": "correlation_filter",
      "maxCorrelation": 0.7,
      "checkExisting": true
    },
    "require_stop_loss": {
      "name": "Require Stop Loss",
      "description": "Only copy trades that have a stop loss set",
      "type": "stop_loss_filter",
      "requireSL": true,
      "minSLDistance": 10,
      "maxSLDistance": 200
    },
    "symbol_whitelist": {
      "name": "Symbol Whitelist",
      "description": "Only trade allowed symbols",
      "type": "symbol_filter",
      "mode": "whitelist",
      "symbols": ["EURUSD", "GBPUSD", "USDJPY", "XAUUSD", "US30", "NAS100"]
    },
    "no_news_trading": {
      "name": "No News Trading",
      "description": "Avoid trading around high-impact news events",
      "type": "news_filter",
      "newsBufferMinutes": 30,
      "highImpactOnly": true,
      "newsEvents": ["NFP", "FOMC", "CPI", "GDP", "Interest Rate Decision"]
    },
    "max_position_size_2pct": {
      "name": "Max 2% Position Size",
      "description": "Limit position size to 2% of account",
      "type": "position_size_filter",
      "maxRiskPercent": 2.0,
      "calculationMethod": "account_balance"
    },
    "no_hedging": {
      "name": "No Hedging",
      "description": "Prevent opening opposite positions on same symbol",
      "type": "hedging_filter",
      "allowOpposingPositions": false,
      "checkExisting": true
    },
    "high_frequency_prevention": {
      "name": "High Frequency Prevention",
      "description": "Prevent high-frequency trading patterns",
      "type": "frequency_filter",
      "maxTradesPerHour": 3,
      "maxTradesPerDay": 20,
      "minPositionHoldTime": 300000
    },
    "source_streak_breaker": {
      "name": "Source Streak Breaker",
      "description": "Pause copying after consecutive losses from source",
      "type": "source_performance_filter",
      "maxConsecutiveSourceLosses": 3,
      "cooldownMinutes": 120,
      "trackSourceAccount": true
    },
    "max_lot_size": {
      "name": "Maximum Lot Size",
      "description": "Absolute maximum lot size per position",
      "type": "lot_size_filter",
      "maxLots": 5.0,
      "minLots": 0.01
    },
    "max_total_exposure": {
      "name": "Maximum Total Exposure",
      "description": "Limit total notional value of all open positions",
      "type": "exposure_filter",
      "maxTotalExposurePercent": 50,
      "calculationMethod": "notional_value"
    }
  },

  "routes": [
    {
      "id": "route_001",
      "enabled": true,
      "name": "PropFirmKid to GoldEADemo",
      "source": "1becc873-1ac2-4dbd-b98d-0d81f1e13a4b",
      "destination": "d25b9ece-3422-43e8-a59b-cf85246beb3b",
      "ruleSet": "conservative_05x",
      "description": "Main prop firm copy with proportional sizing",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": false,
        "channel": "telegram"
      }
    },
    {
      "id": "route_002",
      "enabled": true,
      "name": "GoldOnly to GoldEADemo",
      "source": "58b81c8e-18fa-4a1d-b7d0-b7f7aa7cf9ac",
      "destination": "d25b9ece-3422-43e8-a59b-cf85246beb3b",
      "ruleSet": "aggressive_dynamic",
      "description": "Micro lot gold strategy scaled to standard lots",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": true,
        "channel": "telegram"
      }
    },
    {
      "id": "route_003",
      "enabled": false,
      "name": "PropFirmKid Conservative",
      "source": "1becc873-1ac2-4dbd-b98d-0d81f1e13a4b",
      "destination": "166bea1c-306e-4a6a-8720-823a0134474f",
      "ruleSet": "conservative_05x",
      "description": "Conservative copy to 50k prop firm account",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": false,
        "channel": "telegram"
      }
    },
    {
      "id": "route_004",
      "enabled": false,
      "name": "GoldOnly to Multiple",
      "source": "58b81c8e-18fa-4a1d-b7d0-b7f7aa7cf9ac",
      "destination": "d25b9ece-3422-43e8-a59b-cf85246beb3b",
      "ruleSet": "dynamic_risk",
      "description": "Dynamic risk-adjusted copy to demo account",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": false,
        "channel": "telegram"
      }
    },
    {
      "id": "route_005",
      "enabled": false,
      "name": "MT5 to cTrader Copy",
      "source": "1becc873-1ac2-4dbd-b98d-0d81f1e13a4b",
      "destination": "ctrader-demo-12345",
      "ruleSet": "proportional_118x",
      "description": "Cross-platform copy from MT5 to cTrader",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": false,
        "channel": "telegram"
      }
    },
    {
      "id": "route_006",
      "enabled": false,
      "name": "cTrader Signal Provider",
      "source": "ctrader-source-67890",
      "destination": "019ec0f0-09f5-4230-a7bd-fa2930af07a4",
      "ruleSet": "conservative_05x",
      "description": "Copy from cTrader source to MT5 destination",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": false,
        "channel": "telegram"
      }
    },
    {
      "id": "route_007",
      "enabled": false,
      "name": "cTrader to cTrader",
      "source": "ctrader-source-67890",
      "destination": "ctrader-live-99999",
      "ruleSet": "dynamic_risk",
      "description": "Same platform copy between cTrader accounts",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": true,
        "channel": "telegram"
      }
    },
    {
      "id": "route_008",
      "enabled": true,
      "name": "PropFirmKid to FTMO Challenge 100k",
      "source": "1becc873-1ac2-4dbd-b98d-0d81f1e13a4b",
      "destination": "bb106d21-d303-4e06-84fd-e6a21d20cec9",
      "ruleSet": "ftmo_standard_100k",
      "description": "Main EA to FTMO 1-step challenge with full compliance",
      "notifications": {
        "onCopy": true,
        "onError": true,
        "onFilter": true,
        "channel": "telegram"
      }
    }
  ],

  "globalSettings": {
    "maxActiveRoutes": 10,
    "defaultNotificationChannel": "telegram",
    "performanceTrackingEnabled": true,
    "auditLogEnabled": true,
    "emergencyStopLoss": {
      "enabled": true,
      "dailyLossLimit": 10000,
      "action": "disable_all_routes"
    },
    "healthCheck": {
      "interval": 60000,
      "timeout": 5000,
      "retries": 3
    },
    "breachProtection": {
      "enabled": true,
      "trackFloatingDrawdown": true,
      "drawdownCalculationMethod": "equity",
      "dailyLossAction": "stop_new",
      "totalDrawdownAction": "close_all",
      "breachWarningThreshold": 0.8,
      "notifyBeforeBreach": true,
      "cooldownPeriod": 86400000,
      "autoResumeAfterCooldown": false,
      "manualReviewRequired": true
    },
    "copyTrading": {
      "maxCopyDelayMs": 5000,
      "requireSourceSyncBeforeCopy": true,
      "inheritTPSL": true,
      "allowPartialFills": false,
      "retryFailedCopies": true,
      "maxRetries": 3,
      "retryDelayMs": 2000
    },
    "eaCompliance": {
      "requireEADisclosure": true,
      "maxEAPositionsPerRoute": 10,
      "trackEAVersion": true,
      "pauseOnEAError": true,
      "minSourceAccountAge": 30
    },
    "riskManagement": {
      "maxLeverageAllowed": 100,
      "requireDiversification": true,
      "maxCorrelatedPositions": 2,
      "maxDrawdownBeforeAlert": 0.05,
      "maxSingleSymbolExposure": 0.3,
      "forceCloseAtDrawdown": 0.09
    },
    "tradingRestrictions": {
      "allowWeekendTrading": false,
      "allowHolidayTrading": false,
      "marketHolidays": ["2025-01-01", "2025-12-25"],
      "requiredMinimumBalance": 1000,
      "maxPositionHoldDays": 30
    }
  }
}
